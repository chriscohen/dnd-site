type Query {
    attackTypes: [AttackType!]! @all

    campaignSetting(slug: String! @eq): CampaignSetting @find
    campaignSettings: [CampaignSetting!]! @all @orderBy(column: "name", direction: ASC)

    category(slug: String! @eq): Category @find
    categories: [Category!]! @all

    company(slug: String! @eq): Company @find
    companies: [Company!]! @all

    item(slug: String! @eq): Item @find
    items: [Item!]! @all @orderBy(column: "name", direction: ASC)

    magicSchool(id: String! @eq): MagicSchool @find
    magicSchools: [MagicSchool!]! @all

    source(slug: String! @eq): Source @find
    sources(
        game_edition: [String]
    ): [Source!]! @all @orderBy(column: "game_edition", direction: DESC)

    spell(slug: String! @eq): Spell @find
    spells: [Spell!]! @all @orderBy(column: "name", direction: ASC)

    spellComponentType(id: String! @eq): SpellComponentType @find
    spellComponentTypes: [SpellComponentType!]! @all
}

type AttackType {
    id: String!
    name: String!
}

type CampaignSetting {
    id: Uuid!
    slug: String!
    name: String!
    short_name: String!
    publisher: Company! @hasOne
    publication_type: String!
    logo: Media @belongsTo
}

type Category {
    id: Uuid!
    slug: String!
    name: String!
    entity_type: String!
    parent: Category
    image: Media @hasOne
}

type CharacterClass {
    id: String!
    name: String!
}

type Company {
    id: String!
    slug: String!
    name: String!
    logo: Media @belongsTo
    product_url: String
    short_name: String
    website: String
}

type Damage {
    damage_type: DamageType! @belongsTo
}

type DamageType {
    id: String!
    name: String!
}

type Item {
    id: Uuid!
    slug: String!
    name: String!
    category: Category @belongsTo
    editions: [ItemEdition] @hasMany
}

type ItemData {
    id: Uuid!
    slug: String!
    name: String!
}

type ItemEdition {
    id: Uuid!
    item: Item! @belongsTo
    item_id: Uuid!
    game_edition: GameEdition!
    description: String
    price: String
    quantity: Int!
    weight: Float
    references: [Reference] @hasMany
}

type MagicDomain {
    id: String!
    name: String!
}

type MagicSchool {
    id: String!
    name: String!
    image: Media!
}

type Media {
    id: Uuid!
    name: String
    filename: String!
    collection_name: String
    mime_type: String
    size: Int
    created_at: String
    updated_at: String
    url: String! @method(name: "getUrl")
}

type ProductId {
    id: Uuid!
    origin: Company!
    product_id: String!
    url: String @method(name: "url")
}

type Range {
    id: Uuid!
    is_self: Boolean
    is_touch: Boolean
    number: Int
    per_level: Int
    unit: String
}

type Reference {
    id: Uuid!
    name: String! @method(name: "getName")
    page_from: Int
    page_to: Int
    slug: String! @method(name: "getSlug")
}

type Source {
    id: Uuid!
    slug: String!
    name: String!
    campaign_setting: CampaignSetting @belongsTo(relation: "campaignSetting")
    cover_image: Media @belongsTo(relation: "coverImage")
    description: String
    editions: [SourceEdition] @hasMany
    game_edition: String
    product_code: String
    product_ids: [ProductId] @hasMany(relation: "productIds")
    publication_type: String!
    publisher: Company @belongsTo
    source_type: String!
}

type SourceEdition {
    id: Uuid!
    name: String!
    binding: String
    formats: [String]! @method(name: "getFormatsAsArray")
    is_primary: Boolean
    isbn10: String
    isbn13: String
    pages: Int
    release_date: String
    release_date_month_only: Boolean!
    source_id: Uuid!
}

type SourceFormat {
    id: Uuid!
    format: String
}

type Spell {
    id: Uuid!
    slug: String!
    name: String!
    editions: [SpellEdition!]! @hasMany
}

type SpellComponentType {
    id: String!
    name: String!
}

type SpellEdition {
    id: Uuid!
    class_levels: [SpellEditionCharacterClassLevel] @hasMany(relation: "classLevels")
    description: String
    domains: [String] @method(name: "getDomainsAsStringArray")
    focus: String
    game_edition: String!
    higher_level: String
    is_default: Boolean
    lowest_level: Int! @method(name: "getLowestLevel")
    material_component_mode: String
    material_components: [SpellMaterialComponent] @belongsToMany(relation: "materialComponents")
    range: String @method(name: "rangeAsString")
    school: String @method(name: "schoolAsString")
    spell_components: String
}

type SpellEditionCharacterClassLevel {
    id: Uuid!
    spell_edition: SpellEdition!
    character_class: String! @method(name: "getCharacterClassName")
    character_class_raw: CharacterClass! @belongsTo(relation: "characterClass")
    level: Int!
}

type SpellMaterialComponent {
    id: String!
    is_consumed: Boolean!
    item_edition: ItemEdition! @belongsTo(relation: "itemEdition")
    quantity: Int!
}

scalar Uuid
